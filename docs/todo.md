# Autopilot Improvement Suggestions

> These suggestions were generated by Claude Code after building the initial autopilot workflow. They are prioritized by impact on the core goal: enabling humans to design feature plans that Claude Code builds autonomously with highest coding standards and consistent TDD.

## Top Priority

### 0. Autopilot Init Command
Create `/autopilot init` command that sets up the project for autopilot:
- [ ] Pre-flight checks:
  - [ ] Verify git working directory is clean
  - [ ] Check that required tools exist (test runner, linter, type checker)
  - [ ] Detect and validate feedback loop commands (typecheck, tests, lint)
  - [ ] Warn if no feedback loops are configured
- [ ] Codebase analysis:
  - [ ] Analyze existing codebase patterns and architecture
  - [ ] Identify test file locations based on project conventions
  - [ ] Detect project type (Node.js, Python, Go, etc.) and conventions
  - [ ] Map architectural dependencies
- [ ] Server configuration:
  - [ ] Learn what server to work with (GitHub MCP, etc.)
  - [ ] Detect repository owner/name from git remote
  - [ ] Configure server connection details
- [ ] Configuration file:
  - [ ] Create `autopilot.json` settings file with:
    - [ ] Per-mode iteration limits (tasks: 50, tests: 30, lint: 50, entropy: 30)
    - [ ] Detected feedback loop commands
    - [ ] Test file conventions and locations
    - [ ] Server configuration (owner, repo, server type)
    - [ ] Project type and conventions
    - [ ] Codebase patterns discovered
- [ ] Validation:
  - [ ] Verify all settings are valid
  - [ ] Test feedback loops work
  - [ ] Confirm server connection if applicable

## High Priority

### 2. Explicit TDD Enforcement
Currently we *ask* Claude to verify tests fail before implementing, but there's no enforcement:
- [ ] Add explicit "assert test fails" step that must pass before implementation begins
- [ ] Fail the requirement if test passes before implementation (test isn't testing anything)

### 4. Completion Summary Report
When autopilot finishes, generate a summary:
- [ ] Requirements completed vs stuck
- [ ] Commits made with short descriptions
- [ ] Files created/modified
- [ ] Test coverage delta (if available)
- [ ] Time elapsed per requirement

### 5. Resume from Specific Requirement
If autopilot stops mid-run, it currently restarts evaluation from scratch:
- [ ] Add `--start-from <requirement-id>` flag
- [ ] Auto-detect incomplete requirements and resume there
- [ ] Skip requirements already marked `passes: true`

## Medium Priority

### 6. Rollback Mechanism
If a requirement breaks things badly:
- [ ] Git tag before starting each requirement (e.g., `autopilot/req-1/start`)
- [ ] Easy rollback command: `/autopilot rollback <requirement-id>`
- [ ] Include rollback instructions in stuck notes

### 7. Better Progress Tracking
Current progress tracking relies on notes file and JSON:
- [ ] Create structured progress log (JSON or YAML)
- [ ] Track: start time, end time, commits, files changed per requirement
- [ ] Use git commits more intelligently to understand state

### 8. Configurable Iteration Limits
~~Consolidated into init command (#0)~~ - Now handled by `autopilot.json` created during init

### 9. Smarter Code Simplifier Integration
Currently runs on "modified files" which is vague:
- [ ] Explicitly track files modified in current requirement
- [ ] Pass specific file list to code-simplifier
- [ ] Skip files that weren't touched

### 10. Integration/E2E Test Support
Currently assumes unit tests only:
- [ ] Add `testType` field to requirements (unit, integration, e2e)
- [ ] Different test commands per type
- [ ] Allow requirements to specify which test suites to run

### 11. Completion Notifications
User has to check back manually:
- [ ] Webhook support for notifications
- [ ] Optional integrations (Slack, Discord, email)
- [ ] Desktop notification via system command

## Lower Priority

### 12. Parallel Requirement Execution
Some requirements could be worked on simultaneously:
- [ ] Add `dependsOn` field to requirements
- [ ] Identify independent requirements that can parallelize
- [ ] Support multiple autopilot instances on separate branches

### 13. Issue Tracker Integration
Pull tasks from external sources:
- [ ] GitHub Issues â†’ PRD/tasks conversion
- [ ] Linear integration
- [ ] Update issues when requirements complete
- [ ] Link commits to issues

### 14. Monorepo Support
Currently assumes single project:
- [ ] Workspace/package awareness
- [ ] Per-package feedback loops
- [ ] Scope requirements to specific packages

### 15. Example Files
Help users understand expected formats:
- [ ] Example brainstorm document
- [ ] Example PRD (markdown)
- [ ] Example tasks file (JSON)
- [ ] Example notes file (auto-generated)

### 16. Metrics and Analytics
Track autopilot effectiveness over time:
- [ ] Success rate per project
- [ ] Common stuck points
- [ ] Average time per requirement
- [ ] Most frequently modified files

### 17. Auto-Documentation
After feature complete:
- [ ] Generate/update API documentation
- [ ] Update README if needed
- [ ] Create changelog entry

### 18. Smarter Test Coverage Mode
Currently just targets a percentage:
- [ ] Prioritize critical code paths
- [ ] Focus on recently changed code
- [ ] Exclude generated/vendor files intelligently

### 19. AGENTS.md Learnings Automation
The learnings section exists but isn't systematically used:
- [ ] Prompt to log learnings after stuck items
- [ ] Categorize learnings (gotchas, patterns, dependencies)
- [ ] Surface relevant learnings at start of related tasks

---

## Contributing

These are suggestions, not commitments. If you'd like to tackle any of these, contributions are welcome. Please open an issue first to discuss the approach.
